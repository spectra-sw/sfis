{% extends 'menuTemplate.html' %}
{% block content %}    
<br><br>
    <div class="container">
        <div class="row" style="background-color: white;">
            <div class="col-12">
                <div class="card" style="margin: 15px;">
                    <div class="card-header"></div>
                    <div class="card-body">
                        <div class="row">
                            
                            
                            <div class="col-2">
                                <button class="btn btn-primary" data-toggle="modal" data-target="#myModal">Crear Cámara</button>
                            </div>
                        </div>
                    </div>
                  </div>
            </div>
        </div>
        <br>
        <div class="row" style="background-color: white;">
            <br><br>
            <ul class="nav nav-tabs">
                <li class="nav-item">
                    <a class="nav-link active" data-toggle="tab" href="#generales">Datos Generales</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#servicios">Servicios</a>
                </li>
            </ul>
            
            <!-- Tab panes -->
            <div class="tab-content">
                <div class="tab-pane container active" id="generales">
                    <div class="col-12">
                        <br><br>
                        <table class="table table-bordered table-stripped table-sm table-responsive" style="font-weight: 10px;">
                            <thead>
                                <tr class="table-success">
                                    <th>Nombre</th>
                                    <th>Referencia</th>
                                    <th>Marca</th>
                                    <th>Fps</th>
                                    <th>IP</th>
                                    <th>Zona</th>
                                    <th>Puerto</th>
                                    <th>Link</th>
                                    <th>Usuario</th>
                                    <th>Password</th>
                                    <th>UUID</th>
                                    <th></th>
                                  </tr>
                            </thead>
                            <tbody>
                                {% for camara in camaras %}
                                  <tr  class="table-default">
                                    <td>{{camara[1]}}</td>
                                    <td>{{camara[2]}}</td>
                                    <td>{{camara[3]}}</td>
                                    <td>{{camara[4]}}</td>
                                    <td>{{camara[5]}}</td>
                                    <td>{{camara[6]}}</td>
                                    <td>{{camara[7]}}</td>
                                    <td>{{camara[8]}}</td>
                                    <td>{{camara[9]}}</td>
                                    <td>{{camara[10]}}</td>
                                    <td>{{camara[11]}}</td>
                                    <td><button class="btn btn-warning btn-sm" > <i class="fa fa-fw fa-pencil"></i></button></td>
                                    <td><button class="btn btn-danger btn-sm" > <i class="fa fa-fw fa-trash"></i></button></td>
                                  </tr>
                                {% endfor %}
                              </tbody>
                        </table>
                        <br><br>
                    </div>
                </div>
                <div class="tab-pane container fade" id="servicios">
                    <div class="row">
                        <div class="col-8">
                            <br><br>
                            <button class="btn btn-primary" onclick="server(2)">Server ML</button>
                            <button class="btn btn-primary" onclick="server(1)">Iniciar Server</button>
                            <button class="btn btn-danger" onclick="server(0)">Parar Server</button>
                            <br><br>
                            <table class="table table-bordered table-stripped  table-responsive" style="font-weight: 10px;">
                                <thead>
                                    <tr class="table-success">
                                        <th>Nombre</th>
                                        <th>Estado</th>
                                        
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for camara in camaras %}
                                    <tr  class="table-default">
                                        <td>{{camara[1]}}</td>
                                        <td></td>
                                        <td><button class="btn btn-success btn-sm" id ="{{camara[0]}}" onclick="camara(this.id,1)"> <i class="fa fa-fw fa-toggle-on"></i></button></td>
                                        <td><button class="btn btn-danger btn-sm" id={{camara[0]}} onclick="camara(this.id,0)"> <i class="fa fa-fw fa-power-off "></i></button></td>
                                        <td><button class="btn btn-warning btn-sm" id={{camara[0]}} onclick="testcamara(this.id)">Test</button></td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                            <br><br>
                        </div>
                        <div class="col-4">
                            <br><br><br><br><br>
                            <table class="table table-bordered table-stripped  table-responsive" style="font-weight: 10px;">
                                <thead>
                                    <tr class="table-success">
                                        <th>Parámetro</th>
                                        <th>Valor</th>
                                    </tr>
                                </thead>
                                <tbody>     
                                    <form id="parametros">   
                                        <tr  class="table-default">
                                            <td>Time ml</td>
                                            <td><input type="text" value="0.5" class="form-control" name="timeml"> </td>
                                        </tr>
                                        <!--<tr  class="table-default">
                                            <td>N replica</td>
                                            <td><input type="text" value="1" class="form-control" name="nreplica"> </td>
                                        </tr>
                                        <tr  class="table-default">
                                            <td>Sizeread</td>
                                            <td><input type="text" value="1" class="form-control" name="sizeread"> </td>
                                        </tr>-->
                                        <tr  class="table-default">
                                            <td>Ángulo horizontal</td>
                                            <td><input type="text" value="15.0" class="form-control" name="thrcw"> </td>
                                        </tr>
                                        <tr  class="table-default">
                                            <td>Ángulo vertical</td>
                                            <td><input type="text" value="15.0" class="form-control" name="thrch"> </td>
                                        </tr>
                                        <tr  class="table-default">
                                            <td>Sizeface</td>
                                            <td><input type="text" value="40" class="form-control" name="sizeface"> </td>
                                        </tr>
                                        <tr  class="table-default">
                                            <td>Thr</td>
                                            <td><input type="text" value="0.80" class="form-control" name="thr"> </td>
                                        </tr>
                                        <tr  class="table-default">
                                            <td>Thr person</td>
                                            <td><input type="text" value="70" class="form-control" name="thrperson"> </td>
                                        </tr>
                                        <tr  class="table-default">
                                            <td>Thr min person</td>
                                            <td><input type="text" value="40" class="form-control" name="thrminperson"> </td>
                                        </tr>
                                    </form> 
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>





            
        </div>
    </div>
    <!-- The Modal -->
  <div class="modal" id="myModal">
    <div class="modal-dialog ">
      <div class="modal-content">
      
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Crear cámara</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body">
            <form id="formCamara">
                <div class="form-group">
                    <label for="nombre">Nombre</label>
                    <input type="nombre" class="form-control" placeholder="" id="nombre" name="nombre">
                </div>
                <div class="form-group">
                    <label for="ref">Referencia</label>
                    <input type="ref" class="form-control" placeholder="" id="ref" name="ref">
                </div>
                <div class="form-group">
                    <label for="marca">Marca</label>
                    <input type="marca" class="form-control" placeholder="" id="marca" name="marca">
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col-3">
                            <label for="marca">FPS</label>
                            <input type="number" class="form-control" placeholder="" id="fps" name="fps" value="0">
                        </div>
                        <div class="col-6">
                            <label for="ip">IP</label>
                            <input type="text" class="form-control" placeholder="0.0.0.0" id="ip" name="ip">
                        </div>
                        <div class="col-3">
                            <label for="marca">Puerto</label>
                            <input type="number" class="form-control" placeholder="" id="puerto" name="puerto" value="0">
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="tipo">Zona</label>
                    <select class="form-control" id="zona" name="zona">
                        <option value="0"></option>
                        {% for zona in zonas %}
                            <option value="{{ zona[0]}}">{{ zona[1] }}</option>
                        {% endfor %}
                    </select>
                </div> 
                <div class="form-group">
                    <label for="link">Link</label>
                    <input type="text" class="form-control" placeholder="" id="link" name="link">
                </div>
                <div class="form-group">
                    <label for="usuario">Usuario</label>
                    <input type="text" class="form-control" placeholder="" id="usuario" name="usuario">
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="text" class="form-control" placeholder="" id="password" name="password">
                </div>
            </form>
        </div>
        
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" onclick="guardarCamara()">Guardar</button>
          <button type="button" class="btn btn-danger" data-dismiss="modal">Cerrar</button>
        </div>
        
      </div>
    </div>
  </div>
    {% endblock %}